<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Polls</title>
</head>


                <div class="col-sm-4 col-lg-4 col-md-4" ng-repeat="poll in polls">
                    <div class="thumbnail">
                        <img ng-src="{{poll.pollImage}}" width="320" height="150">
                        <div class="caption">
                            <h4><a href="#{{poll._id}}" data-toggle="modal">{{poll.pollName}}</a>
                            </h4>
                            <p>{{poll.pollDescription}}</p>
                        </div>
                        <div class="ratings">
                            <p class="pull-right">{{poll.totalVotes}} votes</p>
                            <p>{{poll.pollValues.length}} submissions</p>
                        </div>
                    </div>
                </div>
<form ng-submit="submitVote()">
<div ng-repeat="poll in polls">
                <div class="row modal fade" ng-model="poll._id" id="{{poll._id}}" role="dialog" >
                    <div class="col-md-4 col-md-offset-4">
                        < class="user-poll-section modal-dialog">
                        <div class="panel panel-default modal-content">

                            <div class="panel-heading modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <strong>Poll: </strong>{{poll.pollName}}

                            </div>

                            <div class="panel-body modal-body">
                                <div ng-repeat="pollValue in poll.pollValues | orderBy: '-votes'">
                                <div class="radio">
                                    <label>
                                        <input ng-model="pollVotes.text" value="{{pollValue.text}}"; type="radio" name="group-poll">
                                        <strong>{{pollValue.text}}</strong>
                                        <br>&#09;{{pollValue.description}}
                                    </label>
                                    </div>

                                </div>
                                <hr />
                                <h5 class="text-danger">Result Of User Votes :</h5>
                                <hr />
                                <div ng-repeat="pollValue in poll.pollValues | orderBy : '-votes'">
                                {{pollValue.text}}  ({{100 * (pollValue.votes / poll.totalVotes) | number : 0 }}%):
                                <div class="progress progress-striped active">
                                    <div class="progress-bar " role="progressbar" aria-valuenow="{{100 * (pollValue.votes / poll.totalVotes) | number : 0 }}" aria-valuemin="0" aria-valuemax="100" style="width: {{100 * (pollValue.votes / poll.totalVotes) | number : 0 }}%">
                                        <span class="sr-only">60% Complete (success)</span>
                                    </div>
                                </div>

                                    </div>
                            </div>
                            <div class="panel-footer modal-footer">
                                <input type="submit" class="btn btn-success btn-sm btn-primary"> Mark Your Vote</input>


                                <a href="#" class="btn btn-success btn-sm btn-default"> Submit Idea</a>

                            </div>
                        </div>
                            </div>
</div>

                    </div>
                    </div>
</form>
<!-- /.container -->
</body>
</html>